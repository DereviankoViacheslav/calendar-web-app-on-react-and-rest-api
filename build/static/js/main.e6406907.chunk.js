(this["webpackJsonpcalendar-web-app-on-react-and-rest-api"]=this["webpackJsonpcalendar-web-app-on-react-and-rest-api"]||[]).push([[0],{12:function(e,t,a){e.exports=a(20)},17:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),s=a.n(c),i=a(3),l=a(4),o=a(6),u=a(5),m=a(7);a(17);var p=function(){return r.a.createElement("header",{className:"head"},r.a.createElement("nav",{className:"navigate"},r.a.createElement("button",{className:"navigate_create"},"Create"),r.a.createElement("button",{className:"navigate_today"},"Today"),r.a.createElement("div",{className:"navigate__arows"},r.a.createElement("div",{className:"navigate__arows_left"}),r.a.createElement("div",{className:"navigate__arows_right"})),r.a.createElement("div",{className:"navigate__MonthAndYear"},"Jan - Feb 2020")))},d=a(10);var v=function(){var e=Object(d.a)(new Array(24)).map((function(e,t){return r.a.createElement("div",{key:t,className:"hour"},r.a.createElement("span",{className:"hour__text"},"".concat(t<10?"0".concat(t):t,":00")))}));return r.a.createElement("div",{className:"sidebar"},e)},f=a(1),E=a.n(f);function h(e){var t=E()(e.startDate).format("YYYY-MM-DD"),a=E()(e.startDate),n=E()(e.endDate).diff(a,"minutes"),r=a.diff(t,"minutes");return{backgroundColor:"".concat(e.color),top:"".concat(.7*r,"px"),height:"".concat(.7*n,"px")}}var y=function(e){var t=e.event;return r.a.createElement("div",{"data-id-event":"3",className:"day-event",style:h(t)},r.a.createElement("div",{className:"day-event__title"},t.name),r.a.createElement("span",null,"".concat(E()(t.startDate).format("HH:mm")," - ").concat(E()(t.endDate).format("HH:mm"))))};function b(){var e=E()(),t=E()().format("YYYY-MM-DD"),a=e.diff(t,"minutes");return{top:"".concat(.7*a,"px")}}var _=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={style:b()},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.intervalId=setInterval((function(){e.setState({currentTime:b()})}),6e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalId)}},{key:"render",value:function(){return r.a.createElement("div",{className:"time-line",style:this.state.style})}}]),t}(r.a.Component);var N=function(e){var t=e.date,a=e.events,n=E()().format("YYYY-MM-DD"),c=E()(t).format("YYYY-MM-DD"),s=E()(n).isSame(c),i=a.map((function(e){return r.a.createElement(y,{key:e.id,event:e})}));return r.a.createElement("div",{id:t,className:"column-day"},i,s&&r.a.createElement(_,null))};var Y=function(e){var t=e.dates,a=e.listEvents,n=t.map((function(e){var t=function(e,t){return e.filter((function(e){var a=E()(e.endDate,"YYYY-MM-DD"),n=E()(t,"YYYY-MM-DD");return E()(n).isSame(a)}))}(a,e);return r.a.createElement(N,{key:e,date:e,events:t})}));return r.a.createElement("div",{className:"days"},n)};var D=function(e){var t=e.dates.map((function(e){var t=E()(e,"YYYY-MM-DD"),a=E()().format("YYYY-MM-DD"),n=E()(a).isSame(t)?" today":"";return r.a.createElement("div",{key:e,className:"day"},r.a.createElement("span",{className:"day_nameDay"},t.format("ddd")),r.a.createElement("div",{className:"day_numberDay".concat(n)},t.format("DD")),r.a.createElement("div",{className:"LittleBorder"}))}));return r.a.createElement("div",{className:"week"},t)};var k=function(e){var t=e.dates,a=e.listEvents;return r.a.createElement(r.a.Fragment,null,r.a.createElement(D,{dates:t}),r.a.createElement("div",{className:"schedule"},r.a.createElement(v,null),r.a.createElement(Y,{listEvents:a,dates:t})))};var w=function(){return r.a.createElement("div",{className:"popup-layer display-none"},r.a.createElement("form",{className:"popup event","data-id-event":""},r.a.createElement("span",{className:"popup__btn-close"},"X"),r.a.createElement("input",{className:"event__name",name:"name",type:"text",required:"",placeholder:"Add title "}),r.a.createElement("div",{className:"popup__color-picker"},r.a.createElement("label",{className:"popup__color-picker_label"},r.a.createElement("span",{className:"popup__color-picker_label-text"},"Select a color"),r.a.createElement("input",{className:"event__color-picker",type:"color",name:"color",value:"#4183f1"}))),r.a.createElement("div",{className:"popup__picker"},r.a.createElement("input",{className:"event__date-start",name:"dateStart",required:"",type:"date"}),r.a.createElement("input",{className:"event__time-start select",name:"timeStart",required:"",type:"time",step:"900"}),r.a.createElement("span",{className:"line"}),r.a.createElement("input",{className:"event__time-end select",name:"timeEnd",required:"",type:"time",step:"900"}),r.a.createElement("input",{className:"event__date-end",name:"dateEnd",required:"",type:"date"})),r.a.createElement("textarea",{className:"event__description",name:"description",cols:"15",rows:"5",placeholder:"Add description"}),r.a.createElement("div",{className:"footer-popup"},r.a.createElement("span",{className:"event__btn-delete"},"bascket"),r.a.createElement("button",{className:"event__btn-save"},"Save"))))},x=a(11),g=a(2),M=a.n(g),O=function e(){var t=this;Object(i.a)(this,e),this.baseUrl="http://5e300c25576f9d0014d63ac2.mockapi.io/api/v1/listEvents",this.restApi=function(e,a,n){var r,c,s;return M.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:r=t.baseUrl,c={},i.t0=e,i.next="DELETE"===i.t0?5:"POST"===i.t0?8:"PUT"===i.t0?10:13;break;case 5:return c={method:"DELETE"},r+="/".concat(n),i.abrupt("break",15);case 8:return c={method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(a)},i.abrupt("break",15);case 10:return c={method:"PUT",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(a)},r+="/".concat(n),i.abrupt("break",15);case 13:return c=null,i.abrupt("break",15);case 15:return i.next=17,M.a.awrap(fetch(r,c));case 17:if(!(s=i.sent).ok){i.next=22;break}return i.next=21,M.a.awrap(s.json());case 21:return i.abrupt("return",i.sent);case 22:throw new Error("Could not fetch, received ".concat(s.status));case 23:case"end":return i.stop()}}))},this.getEvents=function(){return M.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.awrap(t.restApi());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}))},this.addEvent=function(){var e,a,n,r=arguments;return M.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:for(e=r.length,a=new Array(e),n=0;n<e;n++)a[n]=r[n];return c.next=3,M.a.awrap(t.restApi("POST",a));case 3:return c.abrupt("return",c.sent);case 4:case"end":return c.stop()}}))},this.deleteEvent=function(e){return M.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,M.a.awrap(t.restApi("DELETE",null,e));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}))},this.editEvent=function(e){var a,n,r;return M.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,M.a.awrap(t.getResource());case 2:return a=c.sent,n=a.find((function(t){return t.id===e.id})),r=Object(x.a)({},n,{},e),c.next=7,M.a.awrap(t.restApi("PUT",r,r.id));case 7:return c.abrupt("return",c.sent);case 8:case"end":return c.stop()}}))}},j=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={dates:["2020-01-27","2020-01-28","2020-01-29","2020-01-30","2020-01-31","2020-02-01","2020-02-02"],listEvents:[]},a.mockApiService=new O,a.fetchListEvents=function(){a.mockApiService.getEvents().then((function(e){a.setState({listEvents:e})}))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.fetchListEvents()}},{key:"render",value:function(){var e=this.state,t=e.dates,a=e.listEvents;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p,null),r.a.createElement("main",{className:"main"},r.a.createElement(k,{listEvents:a,dates:t})),r.a.createElement(w,null))}}]),t}(r.a.Component);s.a.render(r.a.createElement(j,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.e6406907.chunk.js.map